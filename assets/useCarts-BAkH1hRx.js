import{r as n,p}from"./index-CHVC3_yY.js";const d="cartItems",v=()=>{const[c,a]=n.useState([]);n.useEffect(()=>{const e=localStorage.getItem(d);if(e){const t=JSON.parse(e);a(t.map(r=>({...r,checked:r.checked!==void 0?r.checked:!0})))}},[]);const l=c.map(({id:e,quantity:t,size:r,checked:m})=>{const s=p().find(i=>i.id===e);return s?{id:e,name:s.title,imgUrl:s.imgUrl,price:Number(s.price.replace("ï¿¥","")),quantity:t,checked:m,size:r}:null}).filter(Boolean),o=e=>{a(e),localStorage.setItem(d,JSON.stringify(e))};return{cartItems:l,addToCart:(e,t)=>{c.find(r=>r.id===e)||o([...c,{id:e,quantity:1,size:t}])},updateQuantity:(e,t)=>{t<1||o(c.map(r=>r.id===e?{...r,quantity:t}:r))},toggleItemCheck:e=>{o(c.map(t=>t.id===e?{...t,checked:!t.checked}:t))},removeItem:e=>{o(c.filter(t=>t.id!==e))},removeItems:e=>{o(c.filter(t=>!e.includes(t.id)))},toggleAllCheck:e=>{o(c.map(t=>({...t,checked:e})))}}};export{v as u};
