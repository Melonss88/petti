import{u as v,j as s,p as h,D as g,L as m,a as w,r as n}from"./index-D_Q_O0HY.js";import{B as p}from"./button-D59xUyQy.js";import{u as C}from"./useCarts-EUpUhWRZ.js";import{t as b}from"./typeFormat-Cw6ID8x5.js";import{S}from"./index-C4foNYjo.js";import"./index-BiuuzBCp.js";const y=({id:a})=>{const{favorites:c,toggleFavorite:r,isFavorite:e}=v(),l=e(a);return s.jsx("section",{className:"favorite-box",children:s.jsx("span",{className:"cursor-pointer",onClick:()=>r(a),children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 16 16",children:s.jsx("path",{fill:"currentColor",d:l?"M8 1.314C12.438-3.248 23.534 4.735 8 15C-7.534 4.736 3.562-3.248 8 1.314":"m8 2.748l-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385c.92 1.815 2.834 3.989 6.286 6.357c3.452-2.368 5.365-4.542 6.286-6.357c.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143q.09.083.176.171a3 3 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15"})})})})},F=({isOpen:a,onClose:c,productId:r})=>{const e=h().find(l=>l.id===r);return s.jsx(g,{title:"已加入购物袋",placement:"right",closable:!0,onClose:c,open:a,width:400,className:"p-4",footer:s.jsxs("div",{className:"flex gap-4",children:[s.jsx(m,{to:"/carts",className:"w-full",children:s.jsx(p,{type:"primary",className:"w-full",children:"查看购物车"})}),s.jsx(m,{to:"/hmall",className:"w-full",children:s.jsx(p,{className:"w-full",children:"继续选购"})})]}),children:e?s.jsxs("div",{className:"flex gap-4 items-center",children:[s.jsx("img",{src:e.imgUrl,alt:"",className:"w-20 h-20 object-cover"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:e.id}),s.jsx("p",{className:"font-bold",children:e.title}),s.jsx("p",{className:"text-lg font-bold",children:e.price})]})]}):s.jsx("p",{className:"text-center text-gray-500",children:"加载中..."})})},E=()=>{var x;const[a]=w(),c=a.get("id"),r=h(),[e,l]=n.useState(!1),{addToCart:j}=C(),[u,o]=n.useState(""),t=r.find(i=>i.id==c);if(!t)return s.jsx("div",{children:"商品不存在"});const[d,f]=n.useState(null),N=()=>{if(!d){o("请选择尺码");return}o(""),j(String(c),d),l(!0)};return s.jsx("div",{className:"product-detail to-top",children:s.jsxs("div",{className:"w-default flex",children:[s.jsx("section",{className:"w-1/2",children:s.jsx("img",{className:"w-full",src:t.imgUrl,alt:"detail.jpg"})}),s.jsx("section",{className:"w-1/2",children:s.jsxs("div",{className:"flex flex-col top-auto min-h-[100vh] py-[100px] px-[150px]",children:[s.jsxs("p",{className:"flex justify-between text-[16px]",children:[s.jsxs("span",{children:[t.title," ",t.id]}),s.jsx(y,{id:t.id})]}),s.jsx("p",{className:"text-[13px] text-[#767676]",children:b(t.type)}),s.jsxs("div",{className:"mt-[40px] w-full flex items-center",children:[s.jsx("span",{className:"text-[15px]",children:"尺寸："}),s.jsx(S,{placeholder:"选择您的尺码",options:((x=t.size)==null?void 0:x.map(i=>({value:i,label:i})))||[],onChange:f})]}),s.jsx("p",{className:"text-[24px] font-[ftnB] mt-[35px]",children:t.price}),s.jsxs("div",{className:"mt-[20px]",children:[s.jsxs("button",{className:"btn-common w-full mb-[10px]",onClick:N,children:["加入购物车",s.jsx(F,{isOpen:e,onClose:()=>l(!1),productId:t.id})]}),s.jsx("p",{className:"text-red-500 text-xl text-center",children:u})]}),s.jsx("p",{className:"text-[#767676] mt-[40px]",children:"中国大陆地区尊享快递免费配送"}),s.jsx("p",{className:"mt-[10px]",children:"网站中的信息可能存在技术失准、色差、尺码误差或因产品改良，生产批次等因素造成的细节误差，网站展示的产品图片可能与实际外观不一致。如有相关问题，请致电顾客服务中心。"})]})})]})})};export{E as default};
